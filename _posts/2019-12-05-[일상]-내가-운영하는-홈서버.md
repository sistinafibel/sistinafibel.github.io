---
layout: post
title: '[일상] 내가 운영하는 홈서버'
date: 2019-12-05
author: cloudjun
tags: 하루 뻘글
---

나는 개인적인 자료들은 클라우드 서비스를 이용하는것 보다 집에 물리적으로(?) 온전히 보관하는걸 좋아한다.
약정 기간에 대한 제약이라든지 , OS를 밀고 깔고 밀고 깔고 , 작게 반짝반짝한 나름 집에서 돌아가는 서비스를 보는건  집 서버 말곤 못하는걸.. 

요런 이유도 있지만 사실 개인적으로 전체 인프라를 만진다는것을 좋아하기 때문에 ... ㅋㅋㅋㅋ
항상 홈 서버에 돌아가고 있는 서비스가 뭔지, 구성도를 적어두려고 했는데 이참에 정리했다.

----
## 우리집 홈 서버 구조
![그림1](https://user-images.githubusercontent.com/36251104/70207273-a24c3980-176d-11ea-9833-4647fca13c5c.png)


* 내부망을 구축할때부터 기가랜을 생각하고 구성을 했기 때문에 Iptime의 A3004NS-M 제품을 구매.
* 클라우드 , 메일서버 , DNS가 들어있는 SynoLogy (내부망 서비스들은 직접적으로 접근하지 않게 하고 전부 시놀로지가 Nginx 리버스 프록시를 해줌)
* 맨 뒤에 붙어있는 라즈베리파이 3세대 / 라떼판다 DFR0419
* 기가랜 구성, 포트 관리는 IPTIME 사용

시놀로지를 산 뒤로 세상이 달라보이는 경험을 한 뒤로, (자작나스던 뭐던 결국은 시놀로지여....)
친구들이나 주변사람들에게 적극적으로 달려들어서 추천하고 있는데 딱히 관심을 안 보는게 아쉽다 

---------

### 시놀로지

| 기기명 | OS 버전         | 용량 | 기타                 |
| ------ | --------------- | ---- | -------------------- |
| DS218J | DSM 6.2.2-24922 | 4TB  | (8TB 하나 주문함 ㅎ) |

* 시놀로지 클라우드
* SMB 스트리밍
* DNS 
* 메일서버
* PHP (5.6 , 7 , 7.2) 웹서버 (apach / nginx)
* MariaDB 10
  * 깔려있긴 한데 안 씀
* SVN
  * 쓰다가 깃 넘어간뒤로 안 씀.

---

### 라즈베리파이

| 기기명 | OS 버전         | 용량                     | 기타 |
| ------ | --------------- | ------------------------ | ------- |
| 라즈베리파이3 | Ubuntu MATE| 32GB | - |

간혹 보면 되게 열악한 환경에서 반년간 안죽고 살아있는게 용하기도 하고.. 이게 되네 싶기도 하고.... ㅋㅋㅋㅋㅋㅋㅋ

* Mysql 5.7
  * 테스트 / 홈서비스 등 개인 서비스 디비 전체 사용
* Node 12
  * 테스트 서비스
* Tomcat8
* Apache

---

### 라떼판다

| 기기명 | OS 버전         | 용량                     | 기타 |
| ------ | --------------- | ------------------------ | ------- |
| 라떼판다 4GB | Windows10 Pro| 64GB | HDD 256GB USB 3.0 |


간혹 윈도우가 필요한 환경이 있다보니 OS를 윈도우로 설치해뒀는데, 추후 우분투로 교체 예정. (도커 설치)

* Mysql8
* Node 12
* MSSQL 2017

----

## 이젠..

자작 저전력 서버를 하나 조립하려고 생각중인 상태.

이후 DB와 Node는 하나로 몰아두고, 
라즈베리파이와 라떼판다를 아에 개인 테스트용도로 사용하는게 가장 괜찮아보인다.



